import{F as r,r as p,j as e,O as w,T as u,C as h,I as o,B as x,V as l}from"./index-B1GUv-pK.js";import{c as g}from"./userService-C3HDRiQ6.js";const{Title:j,Text:c}=u,y=()=>{const[n]=r.useForm(),[i,d]=p.useState(!1),m=async a=>{try{d(!0);const s=await g({old_password:a.old_password,new_password:a.new_password});s.success?(l.success("Password updated successfully"),n.resetFields()):l.error(s.message||"Failed to update password")}catch(s){console.error("Password change error:",s),l.error(s.message||"Failed to update password")}finally{d(!1)}};return e.jsx("div",{className:"min-h-screen bg-gray-50 p-4",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsx(w,{}),e.jsxs("div",{className:"mb-8 text-center",children:[e.jsx(j,{level:3,className:"mt-4 mb-2",children:"Change Password"}),e.jsx(c,{type:"secondary",children:"Enter your current password to set a new one"})]}),e.jsx(h,{className:"shadow-lg rounded-xl p-6",children:e.jsxs(r,{form:n,layout:"vertical",onFinish:m,size:"large",children:[e.jsx(r.Item,{label:"Current Password",name:"old_password",rules:[{required:!0,message:"Please enter your current password"}],children:e.jsx(o.Password,{placeholder:"Enter current password",className:"h-12"})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsx(r.Item,{label:"New Password",name:"new_password",rules:[{required:!0,message:"Please enter new password"},{min:6,message:"Minimum 6 characters"},{pattern:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/,message:"Include uppercase, lowercase & number"}],help:"At least 6 characters with uppercase, lowercase & number",children:e.jsx(o.Password,{placeholder:"Enter new password",className:"h-12"})}),e.jsx(r.Item,{label:"Confirm New Password",name:"confirm_password",dependencies:["new_password"],rules:[{required:!0,message:"Please confirm new password"},({getFieldValue:a})=>({validator(s,t){return!t||a("new_password")===t?Promise.resolve():Promise.reject(new Error("Passwords do not match"))}})],children:e.jsx(o.Password,{placeholder:"Confirm new password",className:"h-12"})})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[e.jsx("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg border border-blue-200",children:e.jsxs(c,{className:"text-blue-700 text-sm",children:[e.jsx("strong",{children:"Password Requirements:"}),e.jsxs("ul",{className:"mt-1 ml-4 list-disc",children:[e.jsx("li",{children:"At least 6 characters long"}),e.jsx("li",{children:"Contains at least one uppercase letter"}),e.jsx("li",{children:"Contains at least one lowercase letter"}),e.jsx("li",{children:"Contains at least one number"})]})]})}),e.jsx("div",{className:"flex justify-end",children:e.jsx(x,{type:"primary",htmlType:"submit",loading:i,size:"large",className:"h-12 px-10 bg-[#FF6C2D] hover:bg-orange-700 border-none",children:"Update Password"})})]})]})})]})})};export{y as default};
